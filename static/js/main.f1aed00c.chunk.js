(this["webpackJsonpsummary-docs"]=this["webpackJsonpsummary-docs"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),s=n.n(c),i=(n(32),n(9)),o=(n(33),n(6)),u=n.n(o),l=n(18),d=n(11),f=n(7),j=(n(39),n(14)),p=n.n(j),m=n(1);function b(e,t){return h.apply(this,arguments)}function h(){return(h=Object(d.a)(u.a.mark((function e(t,n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t+=n,e.next=3,fetch("http://localhost:8080/completion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t})});case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:return a=e.sent,c=a.bot,console.log(c),e.abrupt("return",c);case 11:return e.abrupt("return","Error: API call failed. Try again..");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"",(r=new FileReader).onload=function(e){return Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.result,"What is India's current population and who is India's current President",t.t0=n,t.next=5,b(r,"What is India's current population and who is India's current President");case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}}),t)})))}(r),r.readAsText(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.files,n=e.setFiles,r=e.removeFile,a=e.doesExist,c=(e.summary,e.setSummary),s=e.setNewText,i=function(){var e=Object(d.a)(u.a.mark((function e(i){var o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.target.files[0],0!=a(o.name)){e.next=3;break}return e.abrupt("return");case 3:if(o){e.next=5;break}return e.abrupt("return");case 5:return o.isUploading=!0,s("Loading..."),e.next=9,x(o,c);case 9:n([].concat(Object(l.a)(t),[o])),(d=new FormData).append("newFile",o,o.name),p.a.post("http://localhost:8080/upload",d).then((function(e){o.isUploading=!1,n([].concat(Object(l.a)(t),[o]))})).catch((function(e){console.error(e),r(o.name)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"file-card",children:[Object(m.jsxs)("div",{className:"file-inputs",children:[Object(m.jsx)("input",{type:"file",onChange:i}),Object(m.jsx)("button",{children:"Upload"})]}),Object(m.jsx)("p",{className:"main",children:"Upload .txt file"}),Object(m.jsx)("p",{className:"info",children:"Get brief summary of the document"})]})})},g=n(8);n(58);var y=function(e){var t,n=e.file,r=e.deleteFile;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("li",{className:"file-item",children:[Object(m.jsx)(f.a,{icon:g.a}),Object(m.jsx)("p",{children:(t=n.name,t.length>35?t.substring(0,35)+"...":t)}),Object(m.jsxs)("div",{className:"functionalities",children:[Object(m.jsx)("div",{className:"side"}),n.isUploading&&Object(m.jsx)(f.a,{icon:g.b,className:"fa-spin"}),!n.isUploading&&Object(m.jsx)(f.a,{icon:g.c,onClick:function(){return r(n.name)}})]})]},n.name)})},w=function(e){var t=e.files,n=e.removeFile,r=function(e){p.a.delete("http://localhost:8080/upload?name=".concat(e)).then((function(t){return n(e)})).catch((function(e){return console.error(e)}))};return Object(m.jsx)("ul",{className:"file-list",children:t&&t.map((function(e){return Object(m.jsx)(y,{file:e,deleteFile:r},e.name)}))})},N=(n(60),n(17)),F=(n(59),function(e){var t=e.summary,n=e.setNewText,a=e.newText,c=Object(r.useState)(""),s=Object(i.a)(c,2),o=s[0],u=s[1];return o!=t&&(console.log(t),u(t),n(t.split("\n").map((function(e){return Object(m.jsx)("p",{children:e})}))),console.log(a)),Object(m.jsx)(N.a,{children:Object(m.jsx)(N.a.Body,{children:a})})});var T=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(""),d=Object(i.a)(l,2),f=d[0],j=d[1],p=function(e){a(n.filter((function(t){return t.name!==e})))};return Object(m.jsxs)("div",{className:"App flex-parent",children:[Object(m.jsxs)("div",{className:"fileupload flex-child",children:[Object(m.jsx)(v,{files:n,setFiles:a,removeFile:p,doesExist:function(e){for(var t=0;t<n.length;t++)if(n[t].name===e)return alert("File already exists in the list"),!1;return!0},summary:o,setSummary:u,setNewText:j}),Object(m.jsx)(w,{files:n,removeFile:p})]}),Object(m.jsxs)("div",{className:"right-comp flex-child",children:[Object(m.jsx)("p",{className:"description",children:"Summary of the document"}),Object(m.jsx)("div",{className:"text-response",children:Object(m.jsx)(F,{summary:o,newText:f,setNewText:j})})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),k()}},[[61,1,2]]]);
//# sourceMappingURL=main.f1aed00c.chunk.js.map